<button type="button" class="btn btn-primary rounded-pill px-4 py-2" onclick="showSearch()">Search Apartment</button>

<div id="search_bar" class="mt-3" style="display: none;">
    <form method="GET" action="{% url 'search_apartments' %}" class="row g-3 bg-light p-4 rounded">
        <div class="col-md-6">
            <label for="city_select" class="form-label">City:</label>
            <select id="city_select" name="city_select" class="form-select">
                <option value="">Select city...</option>
                {% for city in cities %}
                <option value="{{ city.city_name }}">{{ city.city_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6">
            <label for="country_select" class="form-label">Country:</label>
            <select id="country_select" name="country_id" class="form-select">
                <option value="">Select country...</option>
                {% for country in countries %}
                <option value="{{ country.id }}">{{ country.country_name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="col-md-6">
            <label for="n_rooms" class="form-label">Number of Rooms:</label>
            <input type="number" id="n_rooms" name="n_rooms" class="form-control" placeholder="Number of rooms">
        </div>
        <div class="col-md-6">
            <label for="price_starts" class="form-label">Price starts with:</label>
            <input type="number" id="price_starts" name="price_starts" class="form-control" placeholder="Minimum price">
        </div>
        <div class="col-md-6">
            <label for="price_ends" class="form-label">Price Ends with:</label>
            <input type="number" id="price_ends" name="price_ends" class="form-control" placeholder="Maximum price">
        </div>
        <div class="col-12 mt-3">
            <button type="submit" class="btn btn-primary rounded-pill px-4 py-2">Search</button>
            <button type="button" class="btn btn-secondary rounded-pill px-4 py-2 ms-2" onclick="hideSearch()">Cancel</button>
        </div>
    </form>
</div>

<script>
    function showSearch() {
        var searchForm = document.getElementById("search_bar");
        if (searchForm.style.display === "none") {
            searchForm.style.display = "block";
        } else {
            searchForm.style.display = "none";
        }
    }
    function hideSearch() {
        var searchForm = document.getElementById("search_bar");
        searchForm.style.display = "none";
    }
</script>
