{% extends "accounts_base.html" %}
{% load static %}
{% block title %}Log in{% endblock title %}


{% block content %}
    {% if messages %}
{% for message in messages %}
  <div id="success-message" class="alert alert-success" role="alert">
    {{ message }}
  </div>
{% endfor %}
{% endif %}


<section class="gradient-form" style="background-color: #eee;">
    <div class="container py-sm-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-xl-10">
                <div class="card rounded-3 text-black">
                    <div class="row g-0">
                        <!-- the left side -->
                        <div class="col-lg-6" style="background-color: #424242;">
                            <div class="card-body p-md-4 mx-md-4">                
                                <div class="text-center">
                                    <a href="{% url "index" %}"><img src="{% static "/images/logo.png" %} "
                                        style="width: 100px;" alt="logo"></a>
       
                                    <h3 class="mt-1 mb-5 pb-1 text-white">Log in</h3>
                                </div>
                
                              <form method="POST">      
                                  {% csrf_token %}
                                  <div data-mdb-input-init class="form-outline ">
                                      {{form.username}}
                                  </div>
              
                                  <div data-mdb-input-init class="form-outline mb-4">
                                      {{form.password}}
                                  </div>

                                  <div class="text-center pt-1 mb-5 pb-1">
                                      <button type="submit" data-mdb-button-init data-mdb-ripple-init class="p-2 text-white btn-block fa-lg gradient-custom-2 mb-3 mainBtn">
                                          Log in
                                      </button>
                                      <a class="text-white" href="{% url "password_reset" %}">Forgot password?</a>
                                  </div>
              
                                  <div class="d-flex align-items-center justify-content-center pb-4">
                                      <p class="mb-0 mr-3 text-white" >Don't have an account?</p>
                                      <a href="{% url "users_register" %}" class="rounded p-1 navigationBtn bg-white">Sign up</a>
                                  </div>
              
                              </form>
              
                            </div>
                        </div>
                        <!-- the left side -->


                        <!-- the right side -->
                        <div class="col-lg-6 d-flex align-items-center gradient-custom-2">
                            <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                                <h3 class="mb-4">Welcome to Opulence!</h3>
                                <p class="mb-0">
                                    At Opulence, we redefine luxury living for your vacation experience. Our curated selection of exquisite apartments offers unparalleled comfort and style in some of the world's most desirable destinations. From stunning city escapes to idyllic beachfront retreats, each property in our portfolio is handpicked to ensure an unforgettable stay.                       
                                </p>
                            </div>
                        </div>
                        <!-- the right side -->

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    #success-message {
        display: none; /* Hide the message initially */
        position: fixed;
        top: 5%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 1000; /* Ensure the message appears above other elements */
      }
      
</style>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Show the success message when the page loads
        var successMessage = document.getElementById('success-message');
        if (successMessage) {
          successMessage.style.display = 'block';
          // Close the message when clicked anywhere on the document
          document.addEventListener('click', function() {
            successMessage.style.display = 'none';
          });
        }
      });
      
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  {% endblock content %}
